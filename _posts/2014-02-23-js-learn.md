---
layout: post
title: "js异步编程学习纪录"
description: "2014-02-23 js异步编程学习纪录"
category: Technology
tags: [diary,learn]
modified: 2014-03-30
image:
feature: appleback.jpg
comments: true
share: true
---

####从setTimeout开始
一个很有趣的例子：

{% highlight js linenos %}
for (var i = 1; i <= 3; i++) {
setTimeout(function(){ console.log(i); }, 0);
};
{% endhighlight %}

一开始看这段代码时，对于初学者，往往会以为输出的应该是

{% highlight js linenos %}
1
2
3
{% endhighlight %}

包括我自己也这样以为。

但当自己动手测试的时候，发现结果为

{% highlight js linenos %}
4
4
4
{% endhighlight %}

其实这就是js的setTimeout调用机制，先将其调用的函数加入事件队列中，然后在代码执行完后，到事件队列中去依次调用。